<% no_turbolinks %>

<%= form_for @post do |f| %>
    <!-- Titre -->
    <div class="form-group">
        <label>Titre</label>
        <%= f.text_field :name, class: 'form-control' %>
    </div>
    
    <!-- Slug -->
    <div class="form-group">
        <label>URL</label>
        <%= f.text_field :slug, class: 'form-control' %>
    </div>
    
    <!-- Contenu -->
    <div class="form-group">
        <label>Contenu</label>
        <%= f.text_area :content, size: '1x15', class: 'form-control' %>
    </div>
    
    <!-- Categorie -->
    <div class="form-group">
        <label>Catégorie</label><br>
        <%= f.select :category_id, Category.pluck(:name, :id), {prompt: 'Sélectionnez une catégorie'}, { :class => 'custom-select' } %>
    </div>
    
    <!-- Publication -->
    <div class="form-group">
        <label>Publier</label>
        <%= f.check_box :published %>
    </div>
    
    <!-- Enregistrer/Annuler -->
    <div class="form-group">
        <button type="submit" class="btn btn-success">Enregistrer</button>
        <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#cancel-modal">Annuler</button>
    </div>

<% end %>


<!-- Modal -->
<div class="modal fade" id="cancel-modal" tabindex="-1" role="dialog" aria-labelledby="cancel-modal" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Annuler ?</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      </div>
      <div class="modal-body">
        Toutes les modifications seront perdues.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Reprendre l'édition</button>
        <a href="<%= posts_path %>" class="btn btn-danger">Oui, annuler</a>
      </div>
    </div>
  </div>
</div>